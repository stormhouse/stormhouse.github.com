<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:og="http://ogp.me/ns#"
      xmlns:fb="https://www.facebook.com/2008/fbml">
<head>
    <title>All About CSS Animations（译）</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Open Graph tags -->

            <meta property="og:type" content="article"/>
            <meta property="og:title" content="All About CSS Animations（译）"/>
            <meta property="og:url" content="http://stormhouse.github.io/posts/2014/all-about-css-animationsyi/"/>
            <meta property="og:description" content="thanks kirupa 在HTML中动画实现的三种的方式之一是众所周知CSS animations。CSS animations是非常简单的。你能通过控制动画CSS属性来影响元素。它可以让你做出很酷的事比如元素移动、元素淡入淡出、改变元素颜色。 首先让我们看一个例子，让下面的云彩缓慢的上下飘动： Your browser does not support inline frames or is currently configured not to display inline frames. 在本篇中，你将学习所有CSS animations，不仅仅是让云朵移动，还有其它更酷更有用的事情。你将会学习通过animation属性怎样定义一个CSS动画，怎么添加关键帧，以及如果调整各种动画相关的属性，这才是你所想要的。 Onwards! Creating a Simple Animation 学习动画最简单的的方式，就是亲自动手实验， 然后再学习它的工作机制。那么来创建一个HTML文档，写HTML和CSS代码吧 ..."/>

    <!-- Bootstrap -->
        <link rel="stylesheet" href="http://stormhouse.github.io/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="http://stormhouse.github.io/theme/css/font-awesome.min.css" rel="stylesheet">
    <link href="http://stormhouse.github.io/theme/css/bootstrap-glyphicons.css" rel="stylesheet">
    <link href="http://stormhouse.github.io/theme/css/pygments.css" rel="stylesheet">
    <link rel="stylesheet" href="http://stormhouse.github.io/theme/css/style.css" type="text/css"/>
    <!-- JavaScript plugins (requires jQuery) -->
    <script src="http://code.jquery.com/jquery.js"></script>

        <link href="http://stormhouse.github.io/feeds/all.rss.xml" type="application/atom+xml" rel="alternate"
              title="stormhouse RSS Feed"/>

</head>
<body>
<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="http://stormhouse.github.io" class="navbar-brand">stormhouse</a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                        <li >
                            <a href="http://stormhouse.github.io/category/python.html">python</a>
                        </li>
                        <li >
                            <a href="http://stormhouse.github.io/category/javascript.html">javascript</a>
                        </li>
                        <li >
                            <a href="http://stormhouse.github.io/category/git.html">git</a>
                        </li>
                        <li >
                            <a href="http://stormhouse.github.io/category/encoding.html">encoding</a>
                        </li>
                        <li class="active">
                            <a href="http://stormhouse.github.io/category/animation.html">animation</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="http://stormhouse.github.io/archives.html"><i class="icon-th-list"></i>Archives</a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</nav>
<!-- /.navbar -->
<div class="container">
    <div class="row">
        <div class="col-lg-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="http://stormhouse.github.io/posts/2014/all-about-css-animationsyi/"
                       rel="bookmark"
                       title="Permalink to All About CSS Animations（译）">
                        All About CSS Animations（译）
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="icon-calendar"></i>Mon 01 December 2014
    </span>



<span class="label label-default">Tags</span>
	<a href="http://stormhouse.github.io/tag/animation.html">animation</a>
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>thanks <a href="http://www.kirupa.com/html5/all_about_css_animations.htm">kirupa</a> </p>
<hr />
<p>在HTML中动画实现的三种的方式之一是众所周知<strong>CSS animations</strong>。CSS animations是非常简单的。你能通过控制动画CSS属性来影响元素。它可以让你做出很酷的事比如元素移动、元素淡入淡出、改变元素颜色。</p>
<p>首先让我们看一个例子，让下面的云彩缓慢的上下飘动：</p>
<iframe id="I1" border="0" frameborder="0" name="I1" scrolling="no" src="demo/animation/bouncing_clouds2.html" style="width: 623px; height: 330px;" marginheight="0" marginwidth="0">Your browser does not support inline frames or is currently configured not to display inline frames.
</iframe>

<p>在本篇中，你将学习所有CSS animations，不仅仅是让云朵移动，还有其它更酷更有用的事情。你将会学习通过<code>animation</code>属性怎样定义一个CSS动画，怎么添加关键帧，以及如果调整各种动画相关的属性，这才是你所想要的。</p>
<p>Onwards!</p>
<hr />
<h3>Creating a Simple Animation</h3>
<p>学习动画最简单的的方式，就是亲自动手实验， 然后再学习它的工作机制。那么来创建一个HTML文档，写HTML和CSS代码吧：</p>
<div class="highlight"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">&quot;en-us&quot;</span><span class="nt">&gt;</span>

<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">&quot;utf-8&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;title&gt;</span>Bouncing Clouds<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;script</span> <span class="na">src=</span><span class="s">&quot;http://www.kirupa.com/js/prefixfree.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>

<span class="nt">&lt;style&gt;</span>
#mainContent {
    background-color: #A2BFCE;
    border-radius: 4px;
    padding: 10px;
    width: 600px;
    height: 300px;
    overflow: hidden;
}
.cloud {
    position: absolute;
}
#bigcloud {
    margin-left: 100px;
    margin-top: 15px;
}
<span class="nt">&lt;/style&gt;</span>
<span class="nt">&lt;/head&gt;</span>

<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;mainContent&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;img</span> <span class="na">id=</span><span class="s">&quot;bigcloud&quot;</span> <span class="na">alt=</span><span class="s">&quot;#&quot;</span> <span class="na">class=</span><span class="s">&quot;cloud&quot;</span> <span class="na">height=</span><span class="s">&quot;154&quot;</span> <span class="na">src=</span><span class="s">&quot;http://www.kirupa.com/images/bigCloud.png&quot;</span> <span class="na">width=</span><span class="s">&quot;238&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>

<span class="nt">&lt;/html&gt;</span>
</pre></div>


<p>如果预览上面代码，和刚才那个例子对比，这是一个不令人兴奋的版本。你所看到的是单一的、静止不动的云朵：</p>
<p><img alt="Animation Img" class="align-center" src="/img/140101-1.png" title="" /></p>
<p>让我们来继续添加<code>animation</code>属性来改变这无趣的状态吧。添加CSS animation只有两步，第一步设置<code>animation</code>属性，第二步精确的定义动画的关键帧。</p>
<p>在<code>#bigcloud</code>上添加以下高亮行的属性：</p>
<div class="highlight"><pre><span class="cp">#bigcloud {</span>
    <span class="nl">animation:</span> <span class="n">bobble</span> <span class="mi">2</span><span class="n">s</span> <span class="n">infinite</span><span class="p">;</span><span class="cm">/*highlight line*/</span>
    <span class="n">margin</span><span class="o">-</span><span class="n">left</span><span class="o">:</span> <span class="mi">100</span><span class="n">px</span><span class="p">;</span>
    <span class="n">margin</span><span class="o">-</span><span class="n">top</span><span class="o">:</span> <span class="mi">15</span><span class="n">px</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p>上面高亮的那行的细节是什么现在并不重要，稍后我们再来关注它。让我们先添加关键帧。添加<code>@keyframes</code>样式属性：</p>
<div class="highlight"><pre><span class="err">@</span><span class="nx">keyframes</span> <span class="nx">bobble</span> <span class="p">{</span>
    <span class="mi">0</span><span class="o">%</span> <span class="p">{</span>
    <span class="nx">transform</span><span class="o">:</span> <span class="nx">translate3d</span><span class="p">(</span><span class="mi">50</span><span class="nx">px</span><span class="p">,</span> <span class="mi">40</span><span class="nx">px</span><span class="p">,</span> <span class="mi">0</span><span class="nx">px</span><span class="p">);</span>
    <span class="nx">animation</span><span class="o">-</span><span class="nx">timing</span><span class="o">-</span><span class="kd">function</span><span class="o">:</span> <span class="nx">ease</span><span class="o">-</span><span class="k">in</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="mi">50</span><span class="o">%</span> <span class="p">{</span>
    <span class="nx">transform</span><span class="o">:</span> <span class="nx">translate3d</span><span class="p">(</span><span class="mi">50</span><span class="nx">px</span><span class="p">,</span> <span class="mi">50</span><span class="nx">px</span><span class="p">,</span> <span class="mi">0</span><span class="nx">px</span><span class="p">);</span>
    <span class="nx">animation</span><span class="o">-</span><span class="nx">timing</span><span class="o">-</span><span class="kd">function</span><span class="o">:</span> <span class="nx">ease</span><span class="o">-</span><span class="nx">out</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="mi">100</span><span class="o">%</span> <span class="p">{</span>
    <span class="nx">transform</span><span class="o">:</span> <span class="nx">translate3d</span><span class="p">(</span><span class="mi">50</span><span class="nx">px</span><span class="p">,</span> <span class="mi">40</span><span class="nx">px</span><span class="p">,</span> <span class="mi">0</span><span class="nx">px</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>一旦你添加了这条样式的属性，刷新一下页面看看吧。你应该看到云朵欢快的上下跳动，沉浸在它自己的世界中。瓦哦。</p>
<h4>What Just Happened</h4>
<p>刚才你添加CSS属性是使云朵上下的跳动。CSS animation是如这么的简单啊。它能让你指定元素想要动画的起止状态，中间任意状态（即关键帧）和终止状态。我们云朵移动是非常简单的，所以学习这个动画实现是个很好的起点。</p>
<p>我们将着眼于第一件事就是<code>animation</code>属性本身：</p>
<div class="highlight"><pre><span class="n">animation</span><span class="o">:</span> <span class="n">bobble</span> <span class="mi">2</span><span class="n">s</span> <span class="n">infinite</span><span class="o">;</span>
</pre></div>


<p><code>animation</code>属性的职责是设置动画的本身。 你使用它的简写形式，你将声明三件事：</p>
<ul>
<li>
<ol>
<li>The name of your animation：动画（帧）的名字</li>
</ol>
</li>
<li>
<ol>
<li>The duration：持续时间</li>
</ol>
</li>
<li>
<ol>
<li>The number of times your animation will loop：动画迭代的次数</li>
</ol>
</li>
</ul>
<p><code>animation</code>声明是不同的。我们这里将名字起为bobble，动画持续时间2秒，这里设置迭代的次数是无数次。</p>
<h6>What About the Vendor Prefixes?</h6>
<p><code>animation</code>属性还是比较新的，所以一些浏览器需要添加私有的前缀才能使之工作。不要将各种浏览器前缀的属性全都堆上去。而是使用类似<a href="http://www.kirupa.com/html5/avoid_using_vendor_prefixes.htm">-prefix-free库</a> (未译)，就像这个例子一样，同时能运行在你的旧的浏览器（需要私有前缀版本的浏览器）中。</p>
<p>正如你看到的，<code>animation</code>声明没有包含更多的动画细节。它设置动画的更高面东西，而一个CSS animation的详细内容，是定义在<code>@keyframes</code>规则里。
Let's look at our @keyframes rule to learn more:==让我们来看看我们的<code>@keyframes</code>规则，深入学习：</p>
<div class="highlight"><pre><span class="err">@</span><span class="nx">keyframes</span> <span class="nx">bobble</span> <span class="p">{</span>
    <span class="mi">0</span><span class="o">%</span> <span class="p">{</span>
    <span class="nx">transform</span><span class="o">:</span> <span class="nx">translate3d</span><span class="p">(</span><span class="mi">50</span><span class="nx">px</span><span class="p">,</span> <span class="mi">40</span><span class="nx">px</span><span class="p">,</span> <span class="mi">0</span><span class="nx">px</span><span class="p">);</span>
    <span class="nx">animation</span><span class="o">-</span><span class="nx">timing</span><span class="o">-</span><span class="kd">function</span><span class="o">:</span> <span class="nx">ease</span><span class="o">-</span><span class="k">in</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="mi">50</span><span class="o">%</span> <span class="p">{</span>
    <span class="nx">transform</span><span class="o">:</span> <span class="nx">translate3d</span><span class="p">(</span><span class="mi">50</span><span class="nx">px</span><span class="p">,</span> <span class="mi">50</span><span class="nx">px</span><span class="p">,</span> <span class="mi">0</span><span class="nx">px</span><span class="p">);</span>
    <span class="nx">animation</span><span class="o">-</span><span class="nx">timing</span><span class="o">-</span><span class="kd">function</span><span class="o">:</span> <span class="nx">ease</span><span class="o">-</span><span class="nx">out</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="mi">100</span><span class="o">%</span> <span class="p">{</span>
    <span class="nx">transform</span><span class="o">:</span> <span class="nx">translate3d</span><span class="p">(</span><span class="mi">50</span><span class="nx">px</span><span class="p">,</span> <span class="mi">40</span><span class="nx">px</span><span class="p">,</span> <span class="mi">0</span><span class="nx">px</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>首先，看下<code>@keyframes</code>属性。在外层包含<code>@keyframes</code>声明的名字：</p>
<div class="highlight"><pre><span class="err">@</span><span class="nx">keyframes</span> <span class="nx">bobble</span> <span class="p">{</span><span class="cm">/*highlight line*/</span>
    <span class="mi">0</span><span class="o">%</span> <span class="p">{</span>
    <span class="nx">transform</span><span class="o">:</span> <span class="nx">translate3d</span><span class="p">(</span><span class="mi">50</span><span class="nx">px</span><span class="p">,</span> <span class="mi">40</span><span class="nx">px</span><span class="p">,</span> <span class="mi">0</span><span class="nx">px</span><span class="p">);</span>
    <span class="nx">animation</span><span class="o">-</span><span class="nx">timing</span><span class="o">-</span><span class="kd">function</span><span class="o">:</span> <span class="nx">ease</span><span class="o">-</span><span class="k">in</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="mi">50</span><span class="o">%</span> <span class="p">{</span>
    <span class="nx">transform</span><span class="o">:</span> <span class="nx">translate3d</span><span class="p">(</span><span class="mi">50</span><span class="nx">px</span><span class="p">,</span> <span class="mi">50</span><span class="nx">px</span><span class="p">,</span> <span class="mi">0</span><span class="nx">px</span><span class="p">);</span>
    <span class="nx">animation</span><span class="o">-</span><span class="nx">timing</span><span class="o">-</span><span class="kd">function</span><span class="o">:</span> <span class="nx">ease</span><span class="o">-</span><span class="nx">out</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="mi">100</span><span class="o">%</span> <span class="p">{</span>
    <span class="nx">transform</span><span class="o">:</span> <span class="nx">translate3d</span><span class="p">(</span><span class="mi">50</span><span class="nx">px</span><span class="p">,</span> <span class="mi">40</span><span class="nx">px</span><span class="p">,</span> <span class="mi">0</span><span class="nx">px</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>在内层，它包含样式规则（即实际的关键帧），使用百分比或<code>from</code>和<code>to</code>关键字：</p>
<div class="highlight"><pre><span class="err">@</span><span class="nx">keyframes</span> <span class="nx">bobble</span> <span class="p">{</span>
    <span class="mi">0</span><span class="o">%</span> <span class="p">{</span><span class="cm">/*highlight line*/</span>
    <span class="nx">transform</span><span class="o">:</span> <span class="nx">translate3d</span><span class="p">(</span><span class="mi">50</span><span class="nx">px</span><span class="p">,</span> <span class="mi">40</span><span class="nx">px</span><span class="p">,</span> <span class="mi">0</span><span class="nx">px</span><span class="p">);</span>
    <span class="nx">animation</span><span class="o">-</span><span class="nx">timing</span><span class="o">-</span><span class="kd">function</span><span class="o">:</span> <span class="nx">ease</span><span class="o">-</span><span class="k">in</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="mi">50</span><span class="o">%</span> <span class="p">{</span><span class="cm">/*highlight line*/</span>
    <span class="nx">transform</span><span class="o">:</span> <span class="nx">translate3d</span><span class="p">(</span><span class="mi">50</span><span class="nx">px</span><span class="p">,</span> <span class="mi">50</span><span class="nx">px</span><span class="p">,</span> <span class="mi">0</span><span class="nx">px</span><span class="p">);</span>
    <span class="nx">animation</span><span class="o">-</span><span class="nx">timing</span><span class="o">-</span><span class="kd">function</span><span class="o">:</span> <span class="nx">ease</span><span class="o">-</span><span class="nx">out</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="mi">100</span><span class="o">%</span> <span class="p">{</span><span class="cm">/*highlight line*/</span>
    <span class="nx">transform</span><span class="o">:</span> <span class="nx">translate3d</span><span class="p">(</span><span class="mi">50</span><span class="nx">px</span><span class="p">,</span> <span class="mi">40</span><span class="nx">px</span><span class="p">,</span> <span class="mi">0</span><span class="nx">px</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>你所期望的几乎就是这些关键帧样式规则。他们只包含CSS属性，如<code>transform</code>和<code>animation-timing-function</code>，当动画到该关键帧时，会应用该帧的属性值。我们不久会回到这个问题，因为你需要知道有一个重要的细节-----关键帧样式规则。</p>
<h6>The Name</h6>
<p>那么，我刚才解释的那部分，是很好理解的。这儿有些事情会变得有点混乱。 尽管，在<code>anaimation</code>规则中定义动画属性，又另一个样式<code>@keyframes</code>规则中声明你的关键帧，他们非常绑定十分紧密。如果它不是那么复杂和凌乱，这将是非常优美的。但我们的工作，就是解开这个烂摊子，弄清楚到底是怎么回事，并最终能够以更复杂的方式创建动画。</p>
<p>命名为<code>bobble</code>的关键帧<code>@keyframes</code>规则来标识关键帧的行为，并用作<code>animation</code>的属性值：</p>
<div class="highlight"><pre><span class="err">#</span><span class="nx">bigcloud</span> <span class="p">{</span>
    <span class="nx">animation</span><span class="o">:</span> <span class="nx">bobble</span> <span class="mi">2</span><span class="nx">s</span> <span class="nx">infinite</span><span class="p">;</span><span class="cm">/*highlight line*/</span>
    <span class="nx">margin</span><span class="o">-</span><span class="nx">left</span><span class="o">:</span> <span class="mi">100</span><span class="nx">px</span><span class="p">;</span>
    <span class="nx">margin</span><span class="o">-</span><span class="nx">top</span><span class="o">:</span> <span class="mi">15</span><span class="nx">px</span><span class="p">;</span>
<span class="p">}</span>
<span class="err">@</span><span class="nx">keyframes</span> <span class="nx">bobble</span> <span class="p">{</span><span class="cm">/*highlight line*/</span>
    <span class="mi">0</span><span class="o">%</span> <span class="p">{</span>
    <span class="nx">transform</span><span class="o">:</span> <span class="nx">translate3d</span><span class="p">(</span><span class="mi">50</span><span class="nx">px</span><span class="p">,</span> <span class="mi">40</span><span class="nx">px</span><span class="p">,</span> <span class="mi">0</span><span class="nx">px</span><span class="p">);</span>
    <span class="nx">animation</span><span class="o">-</span><span class="nx">timing</span><span class="o">-</span><span class="kd">function</span><span class="o">:</span> <span class="nx">ease</span><span class="o">-</span><span class="k">in</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="mi">50</span><span class="o">%</span> <span class="p">{</span>
    <span class="nx">transform</span><span class="o">:</span> <span class="nx">translate3d</span><span class="p">(</span><span class="mi">50</span><span class="nx">px</span><span class="p">,</span> <span class="mi">50</span><span class="nx">px</span><span class="p">,</span> <span class="mi">0</span><span class="nx">px</span><span class="p">);</span>
    <span class="nx">animation</span><span class="o">-</span><span class="nx">timing</span><span class="o">-</span><span class="kd">function</span><span class="o">:</span> <span class="nx">ease</span><span class="o">-</span><span class="nx">out</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="mi">100</span><span class="o">%</span> <span class="p">{</span>
    <span class="nx">transform</span><span class="o">:</span> <span class="nx">translate3d</span><span class="p">(</span><span class="mi">50</span><span class="nx">px</span><span class="p">,</span> <span class="mi">40</span><span class="nx">px</span><span class="p">,</span> <span class="mi">0</span><span class="nx">px</span><span class="p">);</span>
    <span class="nx">animation</span><span class="o">-</span><span class="nx">timing</span><span class="o">-</span><span class="kd">function</span><span class="o">:</span> <span class="nx">ease</span><span class="o">-</span><span class="k">in</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p><code>@keyframes</code> 规则名字也是<strong>bobble</strong>，这并不是说<code>animation</code>属性指向<strong>bobble</strong>是一个巧合。如果这两个名称不一致，你的动画将无法正常工作。</p>
<h6>Duration and the Keyframes</h6>
<p>上一节内容你学到了<code>animation</code>的关键帧属性。解决了这个难题。更大的难题是，动画的持续时间，及某个特定关键帧样式实际触发的时间。</p>
<p>你该记得，当你在<code>@keyframes</code>中定义关键帧样式，你设置的不是一个真实的值。它是一个百分比或是<code>from</code>/<code>to</code>关键字：</p>
<div class="highlight"><pre><span class="err">@</span><span class="nx">keyframes</span> <span class="nx">bobble</span> <span class="p">{</span>
    <span class="mi">0</span><span class="o">%</span> <span class="p">{</span><span class="cm">/*highlight line*/</span>
    <span class="nx">transform</span><span class="o">:</span> <span class="nx">translate3d</span><span class="p">(</span><span class="mi">50</span><span class="nx">px</span><span class="p">,</span> <span class="mi">40</span><span class="nx">px</span><span class="p">,</span> <span class="mi">0</span><span class="nx">px</span><span class="p">);</span>
    <span class="nx">animation</span><span class="o">-</span><span class="nx">timing</span><span class="o">-</span><span class="kd">function</span><span class="o">:</span> <span class="nx">ease</span><span class="o">-</span><span class="k">in</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="mi">50</span><span class="o">%</span> <span class="p">{</span><span class="cm">/*highlight line*/</span>
    <span class="nx">transform</span><span class="o">:</span> <span class="nx">translate3d</span><span class="p">(</span><span class="mi">50</span><span class="nx">px</span><span class="p">,</span> <span class="mi">50</span><span class="nx">px</span><span class="p">,</span> <span class="mi">0</span><span class="nx">px</span><span class="p">);</span>
    <span class="nx">animation</span><span class="o">-</span><span class="nx">timing</span><span class="o">-</span><span class="kd">function</span><span class="o">:</span> <span class="nx">ease</span><span class="o">-</span><span class="nx">out</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="mi">100</span><span class="o">%</span> <span class="p">{</span><span class="cm">/*highlight line*/</span>
    <span class="nx">transform</span><span class="o">:</span> <span class="nx">translate3d</span><span class="p">(</span><span class="mi">50</span><span class="nx">px</span><span class="p">,</span> <span class="mi">40</span><span class="nx">px</span><span class="p">,</span> <span class="mi">0</span><span class="nx">px</span><span class="p">);</span>
    <span class="nx">animation</span><span class="o">-</span><span class="nx">timing</span><span class="o">-</span><span class="kd">function</span><span class="o">:</span> <span class="nx">ease</span><span class="o">-</span><span class="k">in</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>在我们的例子中，关键帧选择的百分比值是0％，50％和100％。它们表示的是已完成动画的百分比。当你的动画刚刚开始时，你已经完成了动画的0％。 0％关键帧将被触发。当你的动画执行一半了，50％的关键帧得到触发。在动画的最后，100％的关键帧将被触发。</p>
<h6>About the <code>from</code> / <code>to</code> Selector</h6>
<p>在选择器中，你可以使用等效的关键字<code>from</code>，来代替0％；使用<code>to</code>关键字代替100％。我不知道为什么有人想到会用它，但它确实存在，在实际编码中最好将它抛开。</p>
<p>在此章节中，我不太愿意使用<code>from</code>/<code>to</code>关键字。使用该关键字，就被固定死了，对以后的扩展更不通用。</p>
<p><code>animation</code>上的属性持续时间是描述整个动画的时间，除非你设置动画运行的总时间， 该值用来标识随时间进行的精确百分比（关键帧）。那么，动画就正常结束。</p>
<p>下图的百分比是映射2秒动画时间单位上的具体时间值：</p>
<p><img alt="Animation Img" class="align-center" src="/img/140101-2.png" title="" /></p>
<p>这部分对我来说是复杂。一旦你理解<code>duration</code>是怎样映射的划分的关键帧，你将在理解动画这块儿跨越的一个重要障碍。</p>
<p>无论如何，我想我们已经看到一个简单动画原理的足够细节。你学会了怎样使用<code>animation</code>声明一个动画，和添加<code>@keyframes</code>规则。 我们也花了一些时间来了解它们组合 一起的产生效果。</p>
<p>不过，还没有做完。还有涉及更多更详细，休息一下，然后看看这个<a href="http://theoatmeal.com/quiz/facebook_addict">How Addicted To Facebook You Are quiz</a>。在看到你的结果后轻轻地抽泣了几分钟，你会在一个的完美状态，以了解更多关于CSS animation！</p>
<h3>Detailed Look at the CSS Animation Property</h3>
<p>刚才我们看到，<code>animation</code>属性包含了更多的属性。现在，你涉足创建一个动画，让我们做一些令人乏味事，学习animation所有的属性。为了更好的学习它，首先扩展它的简写，看看它具体的形式。我们简写形式看起来像下面一样：</p>
<div class="highlight"><pre><span class="n">animation</span><span class="o">:</span> <span class="n">bobble</span> <span class="mi">2</span><span class="n">s</span> <span class="n">infinite</span><span class="o">;</span>
</pre></div>


<p>它的全名称是下面这样：</p>
<div class="highlight"><pre><span class="n">animation</span><span class="o">-</span><span class="n">name</span><span class="o">:</span> <span class="n">bobble</span><span class="p">;</span>
<span class="n">animation</span><span class="o">-</span><span class="n">duration</span><span class="o">:</span> <span class="mi">2</span><span class="n">s</span><span class="p">;</span>
<span class="n">animation</span><span class="o">-</span><span class="n">iteration</span><span class="o">-</span><span class="n">count</span><span class="o">:</span> <span class="n">infinite</span><span class="p">;</span>
</pre></div>


<p>上面简写的形式扩展为三个属性<code>animation-name</code>， <code>animation-duration</code>和<code>animation-iteration-count</code>。这些属性现在深印到你的脑海中了吧，让我们继续看一下我们没有用过的属性比如：<code>animation-play-state</code>, <code>animation-delay</code>, <code>animation-direction</code>, <code>animation-fill-mode</code>, 和 <code>animation-timing-function</code>。</p>
<p>Onwards!</p>
<h4>Pausing and Resuming an Animation</h4>
<p>默认，你的动画开始第一次时，<code>animation</code>属性就被激活。在我们简单的例子中，意味着页面被加载时激活。首先，我们简单想象它被设置成2秒无限循环的动画：</p>
<p><img alt="Animation Img" class="align-center" src="/img/140101-3.png" title="" /></p>
<p>每个黄色矩形表示动画的一次迭代。如果你把动画并排的每次迭代中，你就会得到看起来像我上面所示的那样。</p>
<p>一旦动画开始，在它结束之前永远不会停止。如果你的动画设置为循环，终止状态完成后，它会从起止状态继续执行。它是每次迭代表示为一个单独黄色矩形的循环。我们目前bobble动画是就是这样的。</p>
<p>有时候，你可能 不想要上面那种行为。如果你希望你的动画暂停，不让动画初始状态属性被激活，你可以用动画<code>animation-play-state</code>属性。这个属性允许你在播放运行时的<strong>暂停</strong>或<strong>播放</strong>的切换。</p>
<p>默认情况下，<code>animation-play-state</code>属性设置为<strong>running</strong>。你可以将该值设置为<strong>paused</strong>，停止在运行的过程中：</p>
<div class="highlight"><pre><span class="n">animation</span><span class="o">-</span><span class="n">play</span><span class="o">-</span><span class="n">state</span><span class="o">:</span> <span class="n">paused</span><span class="p">;</span>
</pre></div>


<p>当动画暂停时，它保留动画运行最后时刻的计算值：</p>
<p><img alt="Animation Img" class="align-center" src="/img/140101-4.png" title="" /></p>
<p>它停在那儿几乎不动，你可以通过设置它的<code>animation-play-state</code>属性值为<strong>running</strong>.来恢复运行。在恢复运行之前，它不会突然从起止状态重新运行：</p>
<p><img alt="Animation Img" class="align-center" src="/img/140101-5.png" title="" /></p>
<p>就像你预期的一样，动画从当前状态平滑的运行，就像媒体播放器的播放和暂停功能一样。</p>
<h4>Delaying and Offsetting the Animation</h4>
<p>如果你希望你的动画不是立即播放，而是经过一段时间后播放，你应当使用<code>animation-delay</code>属性。此属性允许你经过指定的时间秒数后，动画才开始运行：</p>
<div class="highlight"><pre><span class="n">animation</span><span class="o">-</span><span class="n">delay</span><span class="o">:</span> <span class="mi">5</span><span class="n">s</span><span class="p">;</span>
</pre></div>


<p>延迟不是等5秒之后0%关键帧被触发。它是第一次迭代的0%关键帧被触发：</p>
<p><img alt="Animation Img" class="align-center" src="/img/140101-6.png" title="" /></p>
<p>一旦你的动画开始运行时，延迟值就没有用武之地了。以后每一次迭代的动画（如果有的话）一个接一个无间隔的运行。</p>
<p>现在你可以给这个属性赋其他的值，你可以给<code>animation-delay</code>设置负值。</p>
<div class="highlight"><pre><span class="n">animation</span><span class="o">-</span><span class="n">delay</span><span class="o">:</span> <span class="o">-</span><span class="mf">.25</span><span class="n">s</span><span class="p">;</span>
</pre></div>


<p>当你设置了一个负值，你的动画会在超前执行你设置的那个值。设置<code>animation-delay</code>-.25秒就是这样：</p>
<p><img alt="Animation Img" class="align-center" src="/img/140101-7.png" title="" /></p>
<p>负值作为一个标识，告诉浏览器这是一个偏移而不是延时。是的，这有点奇怪，因为它给的属性名是<code>animation-delay</code>，我只是个传教者。还有更奇怪的呢，一旦你设置这个负值大于每一次动画迭代的时延，这是没问题的。只要保证有足够的迭代数，无论落在哪次迭代点动画就开始。如果你没有足够的迭代数来抵消那个负值，你的动画根本无法运行。</p>
<h4>Hold My Keyframe Properties, Please!</h4>
<p>如果你不设置动画循环，你会发现，一旦动画结束后，关键帧设置任何属性将被清除，元素返回到一个动画起止状态。这是因为<strong>关键帧应用于的属性是瞬时的</strong>。当关键帧是激活状态时，它们才存在，在以外任何时间，这些属性值都不能存在。如果你不想要这种行为，当它运行完毕，你的动画看起来像突然跳到开始位置或突然复位，让我们来看看这两种情况的区别，然后看看如何更改默认行为。</p>
<h6>Waiting to Start</h6>
<p>第一个用例是当你设置了<code>animation-delay</code>属性。例如，设置了5s：</p>
<p><img alt="Animation Img" class="align-center" src="/img/140101-8.png" title="" /></p>
<p>动画需等待5秒才开始执行，此时关键帧没有被执行。在等待时间中，第一个关键帧的所有属性都不会生效。</p>
<h6>Animation is Done</h6>
<p>第二个例子，当你的动画完成后。该例子是你设置循环3次的那个示例：</p>
<p><img alt="Animation Img" class="align-center" src="/img/140101-9.png" title="" /></p>
<p>3次迭代完成后，最后关键帧的所有属性都会消失。动画回到原始状态就像什么也没有发生过一样。</p>
<h6>Meet animation-fill-mode</h6>
<p>如果你想在等待延时过程中，想让第一侦生效，或当动画完成后，保留最后一侦，你可以设置<code>animation-fill-mode</code>属性。属性值如下：</p>
<ul>
<li>
<ol>
<li>none
There is no faking the property values here. If you want the a keyframe's property values to apply, your keyframe must be active.默认值，不设置动画之外的状态</li>
</ol>
</li>
<li>
<ol>
<li>forwards
After your animation has run to completion, any property values the animation had at the end will be maintained.当你的动画完成后，保持动画结束时的状态</li>
</ol>
</li>
<li>
<ol>
<li>backwards
The animation will apply the property values from the starting keyframe even if that keyframe is not active yet.动画将保持开始关键帧的属性值，虽然它未处于激活状态</li>
</ol>
</li>
<li>
<ol>
<li>both
This is the ultimate solution. Your animation will apply the property values of the first keyframe at the beginning and maintain the property values of the last keyframe at the end.最后的一个值。你的动画在停在起止状态时，第一帧被应用，终止状态最后一帧被激活。</li>
</ol>
</li>
</ul>
<p>刚才我创建的是无限迭代和开始时没有延时的动画。我创建的许多动画的属性在开始帧、结束帧、无动画状态的动画元素之间没有太多的不同。正因为如此，我从不会熬夜担忧，也不会因为不想用<code>animation-fill-mode</code>的属性而感到担忧。</p>
<h4>Reversing an Animation (or Alternating Directions)</h4>
<p>现在，让我们看一下这个略微奇幻的属性，动画默认从0%到100%循序播放。你可以通过给<code>animation-direction</code><strong>设置normal</strong>, <strong>reverse</strong>, <strong>alternate</strong>,  <strong>alternate-reverse</strong>来 改变这个行为，  <strong>normal</strong> 和 <strong>reverse能够直接指出他们做什么</strong>，让我们来看一些比较有意思的属性值：<strong>alternate</strong> 和 <strong>alternate-reverse</strong>.</p>
<p>当设置<code>animation-direction</code> 属性值为<strong>alternate-reverse</strong>，动画正常开始。在第二次迭代时，它反向运行，以后会正向，反向交替着运行：</p>
<p><img alt="Animation Img" class="align-center" src="/img/140101-10.png" title="" /></p>
<p>设置<code>animation-direction</code>属性值为 <strong>alternate</strong> 与上面十分相似，但有点细微的不同：</p>
<p><img alt="Animation Img" class="align-center" src="/img/140101-11.png" title="" /></p>
<p>动画开始于反向运行，然后正向，反向交替 运行。</p>
<h4>At Easing, Soldier!</h4>
<p>涉及到的最后一个有关联的动画属性是<code>animation-timing-function</code>. 它的功能是在开始和结束之间指定如何改变属性值。在 [Easing Functions in CSS3][]（未译） 的教程中有更多缓动函数的细节， 所以去那边详细学习吧。</p>
<h4>The Animation Shorthand</h4>
<p>我们看下已经学过的animation属性的简写方式：</p>
<div class="highlight"><pre><span class="err">#</span><span class="nx">somethingSomethingDarkSide</span> <span class="p">{</span>
    <span class="nx">animation</span><span class="o">-</span><span class="nx">name</span><span class="o">:</span> <span class="nx">deathstar</span><span class="p">;</span>
    <span class="nx">animation</span><span class="o">-</span><span class="nx">duration</span><span class="o">:</span> <span class="mi">25</span><span class="nx">s</span><span class="p">;</span>
    <span class="nx">animation</span><span class="o">-</span><span class="nx">iteration</span><span class="o">-</span><span class="nx">count</span><span class="o">:</span> <span class="mi">1</span><span class="p">;</span>
    <span class="nx">animation</span><span class="o">-</span><span class="nx">play</span><span class="o">-</span><span class="nx">state</span><span class="o">:</span> <span class="nx">paused</span><span class="p">;</span>
    <span class="nx">animation</span><span class="o">-</span><span class="nx">delay</span><span class="o">:</span> <span class="mi">0</span><span class="nx">s</span><span class="p">;</span>
    <span class="nx">animation</span><span class="o">-</span><span class="nx">direction</span><span class="o">:</span> <span class="nx">normal</span><span class="p">;</span>
    <span class="nx">animation</span><span class="o">-</span><span class="nx">fill</span><span class="o">-</span><span class="nx">mode</span><span class="o">:</span> <span class="nx">both</span><span class="p">;</span>
    <span class="nx">animation</span><span class="o">-</span><span class="nx">timing</span><span class="o">-</span><span class="kd">function</span><span class="o">:</span> <span class="nx">ease</span><span class="o">-</span><span class="nx">out</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p>有些人可能更喜欢使用所有的属性简写到<code>animation</code>属性中。事实上，正如你看到的，bobble动画就是使用的简写：</p>
<div class="highlight"><pre><span class="n">animation</span><span class="o">:</span> <span class="n">bobble</span> <span class="mi">2</span><span class="n">s</span> <span class="n">infinite</span><span class="o">;</span>
</pre></div>


<p>你上面看到的所有的全称属性都可表示为简单写的形式---只是好记而已。如果你对此疑惑，下面是他们的映射顺序：</p>
<div class="highlight"><pre><span class="nx">animation</span><span class="o">:</span> <span class="o">&lt;</span><span class="nx">animation</span><span class="o">-</span><span class="nx">name</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">animation</span><span class="o">-</span><span class="nx">duration</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">animation</span><span class="o">-</span><span class="nx">timing</span><span class="o">-</span><span class="kd">function</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">animation</span><span class="o">-</span><span class="nx">delay</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">animation</span><span class="o">-</span><span class="nx">iteration</span><span class="o">-</span><span class="nx">count</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">animation</span><span class="o">-</span><span class="nx">direction</span><span class="o">&gt;</span> <span class="o">&lt;</span><span class="nx">animation</span><span class="o">-</span><span class="nx">fill</span><span class="o">-</span><span class="nx">mode</span><span class="o">&gt;</span><span class="p">;</span>
</pre></div>


<p>尖括号中的部分来代替全称属性名。注意，简写属性中没法表示<code>animation-play-state</code>。你必须使用全称属性名及值也表示它。</p>
<p>无论怎么写，将一般写法写成简写形式，都会像下面一样：</p>
<div class="highlight"><pre><span class="cp">#somethingSomethingDarkSide {</span>
    <span class="nl">animation:</span> <span class="n">deathstar</span> <span class="mi">25</span><span class="n">s</span> <span class="n">ease</span><span class="o">-</span><span class="n">out</span> <span class="mi">0</span><span class="n">s</span> <span class="mi">1</span> <span class="n">normal</span> <span class="n">both</span><span class="p">;</span>
    <span class="n">animation</span><span class="o">-</span><span class="n">play</span><span class="o">-</span><span class="n">state</span><span class="o">:</span> <span class="n">paused</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p>简写的形式比全称写法紧凑吧？对的！它更容易理解吗？这是一个很难回答的一个问题，完全基于你(或你的团队)的偏好。</p>
<p>我一般比较喜欢使用<code>animation-name</code>, <code>animation-duration</code>和<code>animation-timing-function</code> 的简写版本，是因为很容易记住它。一旦超过这三个属性后，我就不得不去查阅文档添加哪一个了。</p>
<p>你们的分歧可能是在全称与简单属性上，所以不管卡怎样选择一个适合你的。呃...以你的聪明头脑，是时候告别<code>animation</code> 属性的内容了，来关注动画世界中其它的美妙的旅程吧。</p>
<h3>Looking at the Keyframes</h3>
<p>迄今为止,大部分时间花在动画<code>animation</code>和它怎样影响你的整体部分…动画。一个CSS动画真正的角色是关键帧，所以让我们更多的关注在这一节。</p>
<p>再次看一下bobble关键帧们：</p>
<div class="highlight"><pre><span class="err">@</span><span class="nx">keyframes</span> <span class="nx">bobble</span> <span class="p">{</span>
    <span class="mi">0</span><span class="o">%</span> <span class="p">{</span>
    <span class="nx">transform</span><span class="o">:</span> <span class="nx">translate3d</span><span class="p">(</span><span class="mi">50</span><span class="nx">px</span><span class="p">,</span> <span class="mi">40</span><span class="nx">px</span><span class="p">,</span> <span class="mi">0</span><span class="nx">px</span><span class="p">);</span>
    <span class="nx">animation</span><span class="o">-</span><span class="nx">timing</span><span class="o">-</span><span class="kd">function</span><span class="o">:</span> <span class="nx">ease</span><span class="o">-</span><span class="k">in</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="mi">50</span><span class="o">%</span> <span class="p">{</span>
    <span class="nx">transform</span><span class="o">:</span> <span class="nx">translate3d</span><span class="p">(</span><span class="mi">50</span><span class="nx">px</span><span class="p">,</span> <span class="mi">50</span><span class="nx">px</span><span class="p">,</span> <span class="mi">0</span><span class="nx">px</span><span class="p">);</span>
    <span class="nx">animation</span><span class="o">-</span><span class="nx">timing</span><span class="o">-</span><span class="kd">function</span><span class="o">:</span> <span class="nx">ease</span><span class="o">-</span><span class="nx">out</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="mi">100</span><span class="o">%</span> <span class="p">{</span>
    <span class="nx">transform</span><span class="o">:</span> <span class="nx">translate3d</span><span class="p">(</span><span class="mi">50</span><span class="nx">px</span><span class="p">,</span> <span class="mi">40</span><span class="nx">px</span><span class="p">,</span> <span class="mi">0</span><span class="nx">px</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>早先提到的一个关键帧十分像一个属性样式。把CSS属性放进去，当这些关键帧被触发时，这些属性被执行。注意的是，并不是所有的属性都可应用于关键帧中，只有<strong>可动画的CSS 属性</strong>和<strong>animation-timing-function</strong>才能被指定。</p>
<p>这不一定是个坏消息，我完全确定你所有放到关键帧中属性列表中的属性都是可进行动画化的。你访问这里就能看到所的可动画的属性完整列表，以及这里是一些额外的属性。</p>
<p>最后，看一下可以指定到关键帧中的 <code>animation-timing-function</code> 属性，这个属性影响着从当前帧怎样过滤到下一关键帧。拿我们例子说，在0%关键帧，我们设置<code>animation-timing-function</code> 属性值为ease-in：</p>
<div class="highlight"><pre><span class="err">@</span><span class="nx">keyframes</span> <span class="nx">bobble</span> <span class="p">{</span>
    <span class="mi">0</span><span class="o">%</span> <span class="p">{</span>
    <span class="nx">transform</span><span class="o">:</span> <span class="nx">translate3d</span><span class="p">(</span><span class="mi">50</span><span class="nx">px</span><span class="p">,</span> <span class="mi">40</span><span class="nx">px</span><span class="p">,</span> <span class="mi">0</span><span class="nx">px</span><span class="p">);</span>
    <span class="nx">animation</span><span class="o">-</span><span class="nx">timing</span><span class="o">-</span><span class="kd">function</span><span class="o">:</span> <span class="nx">ease</span><span class="o">-</span><span class="k">in</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="mi">50</span><span class="o">%</span> <span class="p">{</span>
    <span class="nx">transform</span><span class="o">:</span> <span class="nx">translate3d</span><span class="p">(</span><span class="mi">50</span><span class="nx">px</span><span class="p">,</span> <span class="mi">50</span><span class="nx">px</span><span class="p">,</span> <span class="mi">0</span><span class="nx">px</span><span class="p">);</span>
    <span class="nx">animation</span><span class="o">-</span><span class="nx">timing</span><span class="o">-</span><span class="kd">function</span><span class="o">:</span> <span class="nx">ease</span><span class="o">-</span><span class="nx">out</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="mi">100</span><span class="o">%</span> <span class="p">{</span>
    <span class="nx">transform</span><span class="o">:</span> <span class="nx">translate3d</span><span class="p">(</span><span class="mi">50</span><span class="nx">px</span><span class="p">,</span> <span class="mi">40</span><span class="nx">px</span><span class="p">,</span> <span class="mi">0</span><span class="nx">px</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>


<p>当你的动画从0%关键帧到50%关键帧滚动时缓动函数被激活。同样的，动画从50%关键帧到100%关键帧滚动时50%处的关键帧被激活。从当前帧到下一帧过程中给定的缓动函数被激活，在100%关键帧声明一个调速函数没有太多意义。</p>
<h3>Reusing Keyframes</h3>
<p>最后要讲的，是另一个动画声明复用同一个关键帧定义。我有点担忧过早将<code>animation</code>属性和<code>@keyframes</code>规则分离开，这样做起来有点小笨重。即使再笨重的东西，如果你付出更多努力，这儿会有一些漂亮的事情做。</p>
<p>一个是声明另一个<code>animation</code>属性时可以使用同一个关键帧定义。也许很难明白我的意思，让我们扩展当前的例子来强调我在说什么。</p>
<p>在当前的HTML文档中包括一个弹跳云朵，继续添加下面的高亮行：</p>
<div class="highlight"><pre><span class="cp">&lt;!DOCTYPE html&gt;</span>
<span class="nt">&lt;html</span> <span class="na">lang=</span><span class="s">&quot;en-us&quot;</span><span class="nt">&gt;</span>

<span class="nt">&lt;head&gt;</span>
<span class="nt">&lt;meta</span> <span class="na">charset=</span><span class="s">&quot;utf-8&quot;</span><span class="nt">&gt;</span>
<span class="nt">&lt;title&gt;</span>Bouncing Clouds<span class="nt">&lt;/title&gt;</span>
<span class="nt">&lt;script</span> <span class="na">src=</span><span class="s">&quot;http://www.kirupa.com/js/prefixfree.min.js&quot;</span><span class="nt">&gt;&lt;/script&gt;</span>

<span class="nt">&lt;style&gt;</span>
#mainContent {
    background-color: #A2BFCE;
    border-radius: 4px;
    padding: 10px;
    width: 600px;
    height: 300px;
    overflow: hidden;
}
.cloud {
    position: absolute;
}
#bigcloud {
    animation: bobble 2s infinite;
    margin-left: 100px;
    margin-top: 15px;
}
#smallcloud {
    animation: bobble 4s infinite;
    margin-top: 65px;
    margin-left: 200px;
}
@keyframes bobble {
    0% {
    transform: translate3d(50px, 40px, 0px);
    animation-timing-function: ease-in;
    }
    50% {
    transform: translate3d(50px, 50px, 0px);
    animation-timing-function: ease-out;
    }
    100% {
    transform: translate3d(50px, 40px, 0px);
    }
}
<span class="nt">&lt;/style&gt;</span>
<span class="nt">&lt;/head&gt;</span>

<span class="nt">&lt;body&gt;</span>
    <span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;mainContent&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;img</span> <span class="na">id=</span><span class="s">&quot;bigcloud&quot;</span> <span class="na">alt=</span><span class="s">&quot;#&quot;</span> <span class="na">class=</span><span class="s">&quot;cloud&quot;</span> <span class="na">height=</span><span class="s">&quot;154&quot;</span> <span class="na">src=</span><span class="s">&quot;http://www.kirupa.com/images/bigCloud.png&quot;</span> <span class="na">width=</span><span class="s">&quot;238&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;img</span> <span class="na">id=</span><span class="s">&quot;smallcloud&quot;</span> <span class="na">alt=</span><span class="s">&quot;#&quot;</span> <span class="na">class=</span><span class="s">&quot;cloud&quot;</span> <span class="na">height=</span><span class="s">&quot;103&quot;</span> <span class="na">src=</span><span class="s">&quot;http://www.kirupa.com/images/smallCloud.png&quot;</span> <span class="na">width=</span><span class="s">&quot;158&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;/div&gt;</span>
<span class="nt">&lt;/body&gt;</span>

<span class="nt">&lt;/html&gt;</span>
</pre></div>


<p>一旦你添加高亮<code>#smallCloud</code>样式和第二个<code>img</code>元素后，重新预览一下页面。如果没其它错误的话，你将看到两块云朵愉快的跳动...就是本文最开始的那个例子一样。</p>
<p>现在你的例子能运行了，看一下是如何做到的。窍门就是<code>#smallCloud</code>样式的中<code>animation</code>声明行。
    #smallcloud {
        animation: bobble 4s infinite;
        margin-top: 65px;
        margin-left: 200px;
    }</p>
<p>注意这里引用同一个<code>@keyframes</code>规则名称为bobble。和<code>#bigClound</code>样式唯一不同的是<code>animation</code>声明中的时延。小的云朵中<code>animation</code>时延设置成4秒---比大的云朵设置时延长两倍:</p>
<div class="highlight"><pre><span class="cp">#bigcloud {</span>
    <span class="nl">animation:</span> <span class="n">bobble</span> <span class="mi">2</span><span class="n">s</span> <span class="n">infinite</span><span class="p">;</span>
    <span class="n">margin</span><span class="o">-</span><span class="n">left</span><span class="o">:</span> <span class="mi">100</span><span class="n">px</span><span class="p">;</span>
    <span class="n">margin</span><span class="o">-</span><span class="n">top</span><span class="o">:</span> <span class="mi">15</span><span class="n">px</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p>两个云朵中定义的bobble关键帧有什么意思呢。唯一不同是一个动画在2秒中执行完那些关键帧，另一个是4秒：</p>
<p><img alt="Animation Img" class="align-center" src="/img/140101-12.png" title="" /></p>
<p>将<code>animation</code>和<code>keyframes</code>声明分离开来，可以做这上面的事。<code>animation</code>中的任何属性的改变都会影响到关键帧这一水平--就像这儿你看到的时延。刚才我解释的每个<code>animation</code>属性的设置，不用直接涉及关键帧部分，就会改变关键帧的行为。</p>
<p>You have to admit, that is pretty cool.</p>
<h3>Declaring Multiple Animations</h3>
<p>最后要讲的（好吧，真的最后一次），快速看一下怎样在同一个<code>animation</code> 属性中声明多个动画。简写形式，用逗号隔开每个动画定义，如下：</p>
<div class="highlight"><pre><span class="cp">#oppaGangnamStyle {</span>
    <span class="nl">animation:</span> <span class="n">hey</span> <span class="mi">2</span><span class="n">s</span> <span class="n">infinite</span><span class="p">,</span> <span class="n">sexy</span> <span class="mi">1</span><span class="n">s</span> <span class="n">infinite</span><span class="p">,</span> <span class="n">lady</span> <span class="mi">5</span><span class="n">s</span> <span class="n">infinite</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p>注意上面每一个动画定义指向不同的<code>@keyframes</code>。不管怎样，如果在同一个<code>animation</code>属性声明中指向同一个<code>@keyframes</code>关键帧，根据CSS优先顺序，最后一个将被生效。</p>
<p>属性名全称形式，看起来如下：</p>
<div class="highlight"><pre><span class="cp">#oppaGangnamStyle {</span>
    <span class="n">animation</span><span class="o">-</span><span class="n">name</span><span class="o">:</span> <span class="n">hey</span><span class="p">,</span> <span class="n">sexy</span><span class="p">,</span> <span class="n">lady</span><span class="p">;</span>
    <span class="n">animation</span><span class="o">-</span><span class="n">duration</span><span class="o">:</span> <span class="mi">2</span><span class="n">s</span><span class="p">,</span> <span class="mi">1</span><span class="n">s</span><span class="p">,</span> <span class="mi">5</span><span class="n">s</span><span class="p">;</span>
    <span class="n">animation</span><span class="o">-</span><span class="n">iteration</span><span class="o">-</span><span class="n">count</span><span class="o">:</span> <span class="n">infinite</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>


<p>这次，应该是比较简单的。都是使用逗号隔开的，如果在为一个属性使用多个值有疑惑时，仅仅使用逗号就可解决。</p>
<h3>Conclusion</h3>
<p>我们已经了解到CSS中<code>animation</code>属性很多的内容---特别是想让你的内容更加活泼。你已经学习了动画的基本内容，继续学习下面教程吧：</p>
<ul>
<li><a href="http://www.kirupa.com/html5/all_about_css_transitions.htm">All About CSS Transitions</a> （未译）</li>
<li><a href="http://www.kirupa.com/html5/css3_animations_vs_transitions.htm">CSS3: Animations vs. Transitions</a> （未译）</li>
<li><a href="http://www.kirupa.com/snippets/getting_jittery_on_hover_using_only_css.htm">Getting Jittery on Hover</a> （未译）</li>
<li><a href="http://www.kirupa.com/snippets/slide_bounce_image_on_hover.htm">Slide and Bounce an Image on Hover</a> （未译）</li>
</ul>
<hr />
<p>翻译水平有限，敬请各位同学批评指正。</p>
            </div>
            <!-- /.entry-content -->
    <hr />
    <section class="comments" id="comments">
        <h2>Comments</h2>
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'stormhouse'; // required: replace example with your forum shortname
            var disqus_identifier = 'all-about-css-animationsyi';
            var disqus_url = 'http://stormhouse.github.io/posts/2014/all-about-css-animationsyi/';

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-lg-3 well well-sm" id="sidebar">
<aside>
    <section>
        <ul class="list-group list-group-flush">
                <li class="list-group-item"><h4><i class="icon-home icon-large"></i>Social</h4></li>
                    <li class="list-group-item"><a href="http://coolshell.cn/"><i
                            class="icon-酷壳-sign icon-large"></i>酷壳
                    </a></li>
                    <li class="list-group-item"><a href="http://blog.zhaojie.me/"><i
                            class="icon-老赵-sign icon-large"></i>老赵
                    </a></li>
                    <li class="list-group-item"><a href="http://www.ruanyifeng.com/about.html"><i
                            class="icon-阮一峰-sign icon-large"></i>阮一峰
                    </a></li>
                    <li class="list-group-item"><a href="http://www.cnblogs.com/rubylouvre/"><i
                            class="icon-rubylouvre-sign icon-large"></i>rubylouvre
                    </a></li>
                    <li class="list-group-item"><a href="http://nuysoft.com/"><i
                            class="icon-nuysoft-sign icon-large"></i>nuysoft
                    </a></li>
                    <li class="list-group-item"><a href="http://jinlong.github.io/"><i
                            class="icon-涂鸦码龙-sign icon-large"></i>涂鸦码龙
                    </a></li>
                    <li class="list-group-item"><a href="http://www.diguage.com/"><i
                            class="icon-地瓜哥-sign icon-large"></i>地瓜哥
                    </a></li>



            <li class="list-group-item"><a href="http://stormhouse.github.io/tags.html"><h4><i class="icon-tags icon-large"></i>Tags</h4></a></li>
                <li class="list-group-item tag-0">
                    <a href="http://stormhouse.github.io/tag/python.html">
                        python
                    </a>
                </li>
                <li class="list-group-item tag-1">
                    <a href="http://stormhouse.github.io/tag/encoding.html">
                        encoding
                    </a>
                </li>
                <li class="list-group-item tag-2">
                    <a href="http://stormhouse.github.io/tag/animation.html">
                        animation
                    </a>
                </li>
                <li class="list-group-item tag-2">
                    <a href="http://stormhouse.github.io/tag/http.html">
                        http
                    </a>
                </li>
                <li class="list-group-item tag-4">
                    <a href="http://stormhouse.github.io/tag/base64.html">
                        base64
                    </a>
                </li>
                <li class="list-group-item tag-4">
                    <a href="http://stormhouse.github.io/tag/event.html">
                        event
                    </a>
                </li>
                <li class="list-group-item tag-4">
                    <a href="http://stormhouse.github.io/tag/url.html">
                        url
                    </a>
                </li>
                <li class="list-group-item tag-4">
                    <a href="http://stormhouse.github.io/tag/tomcat.html">
                        tomcat
                    </a>
                </li>
                <li class="list-group-item tag-4">
                    <a href="http://stormhouse.github.io/tag/javascript.html">
                        javascript
                    </a>
                </li>
                <li class="list-group-item tag-4">
                    <a href="http://stormhouse.github.io/tag/git.html">
                        git
                    </a>
                </li>
        </ul>
    </section>
</aside>        </div>
    </div>
</div>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="http://stormhouse.github.io/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="http://stormhouse.github.io/theme/js/respond.min.js"></script>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'stormhouse'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
</body>
</html>